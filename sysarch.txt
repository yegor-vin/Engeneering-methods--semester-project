[TODO]
Describe handling of filter data
Describe meaning of each filter option
Create diagram for filter option handling

[Other features]
Live vehicle position
Search vehicle by license plate/locomotive number/...
Navigation

[Filter options list]
Start + Destination
Time - departure|arrival
Transport companies -- [exclude|include [priority-global if breached]] [preferred(priority-local) priority-global]
transit lines -- [exclude|include [priority-global if breached]]
vehicle types (train/bus/ship/plane/...) -- [exclude|include [priority-global if breached]] [preferred(priority-local) priority-global]
payment methods -- preferred(priority-local) priority-global [required|required if known [priority-global if breached]]
maximum number of middle stops -- value [priority-global if breached]
minimize stops -- priority-global
pass via (stops/places - CONFLICT WITH ROUTE PATH) -- [place1 [priority-local if breached] [place2 [priority-local if breached]]... [priority-global if required breached|priority-global if optional only breached]
route length (time/distance/maximize one) -- [[min] [max] [priority global if min/max breached]]|[maximize time up to(distance/time)|maximize distance up to(distance/time)]
number of transfers -- max [priority-global if breached]
minimize transfers -- priority-global
time between transfers -- [[min] [max] [[min per 100m] [max per 100m]]]
distance between transfers -- [min] [max]
minimize walking distance -- priority-global
route path (approximate - from map - CONFLICT WITH PASS VIA) -- priority-global
ticket availability (auto discard if full) -- [class [priority-local if breached]] [maximize emptiness [priority-local]] [priority-globa]

[Filter options textual definitions]
Start + Destination = Self descriptive
Time = Time of either departure or arrival
Transport companies = List of transport companies. Include is a whitelist option, exclude is blacklist. "priority-global if breached" sets priority accross all filter options if the list of companies cannot be met. Leaving this out makes the options firm - i.e.: exclude or include list must be met. "preferred" is a list of companies to prefer over others if possible. If prior exclude/include was used, preferred operates with this list, otherwise operates with list of all transport companies. If multiple companies are listed, "priority-local" sets priority of each company within the "preferred" list. With preferred list, default priority-global (may get overriden by "if breached") must be specified to define priority above/below other options.
Transit lines = List of lines (e.g.: OS 3039) to include (whitelist) or exclude (blacklist). Optional "priority-global if breached" sets filter option priority if conditions cannot be met, if not included, the options must be met.
Vehicle types = Exclude (blacklist) or include (whitelist) specific types of public transport like trains or buses, optional "priority-global if breached" sets global filter priority if conditions cannot be met, otherwise the lists must be met. "preferred" lists transit types to prefer with their respective "priority-local" value, and may be combined with prior exclude/include, otherwise operates with all types by default. For example, preferred list may be used to prefer trams over buses. With preferred list, default priority-global (may get overriden by "if breached") must be specified to define priority above/below other options.
Payment methods = "preferred" is a list of payment options to prefer with their respective priority-local (within the list). priority-global is required to set importance of payment options list. Option "required" will make these options always required, "required if known" only if the available payment options are known for the specific transport company. Priority global if breached overrides previously set priority-global if prior requirement conditions cannot be met. Omiting this option makes the requirements necessary to be met.
Maximum number of middle stops = "value" sets the maximum number of stops between departure point and destination. As usual, "priority global if breached" sets the importance of this options if the condition cannot be met, and makes the value optional.
Minimize stops = Try to get minimum number of middle stops. priority-global sets importance of minimization.
Pass via = A list of stops or places to (try to) pass through. This option conflicts with map route path (i.e.: both can't be used at once). "placen" lists a place to pass through. "priority-local if breached" sets the importance within this list of pllaces, and makes the place optional. "priority-global if required breached" sets importance of pass via if a required option cannot be met, "priority-global if optional only breached" sets importance if only optional places (i.e.: those with "priority-local if breached" value set) were not met.
Route length = For min/max time or distance may be chosen. Min/max are mutually exclusive with the "maximize x up to" options. "maximize time up to(distance/time)" tries to maximize time in vehicles up to
 given distance or time and "maximize distance up to(distance/time)" does same but with distance

[Filter options "syntax"]
Not really following anything specific, just multiple things combined together.
| - splits mutually exclusive options
[option] - optional option
[option1 [option2]] - option1 is optional, option2 is optional option to option1
CONFLICT WITH - mutually exclusive with named filter option(s)
priority-local - priority of sub-option within single filter option
priority-global - priority accross all primary filter options
filter (text) - text is basically a comment, may list intended uses/options
sublist(priority-local) - list of sub-options where each sub-option accepts separate priority
priority-* if breached - set priority if related conditions cannot be met

[KaiOS]
Simple online route search only - these are weak devices that can at best use primitive web apps

[User-editable items]
Routes (times, stops, does not exist, new)
Line route (if differs (manual, GNSS))

[Map data source]
OpenStreetMap in snapshots similar to CoMaps, which currently takes them once or twice a month. As of writing, the map of Slovakia is only 347MB in CoMaps.

[Text - Handling of filter data]
1. Filter pool of options based on mandatory options (options excluding priority)
2. Sort used options based on global-priority
3.

[Text - handling of offline data updates]
Offline data will be stored in chunks. Map data by regions, route data by company. Client devices will contact central server periodically or on-demand for list of current data chunk SHA512 hashes. After comparing hashes of stored data (stored in database, pre-computed), and if differing hashes are found, user will be notified to download updates, or they will be automatically downloaded based on user preferences.
Last update times will also be presented, however hashes will be used for comparison to avoid user errors (e.g. new date is entered as older). After download, hashes will be computed for downloaded files to verify their integrity.
P2P download/upload options may be added in the future to off-load bandwidth from our servers to users who are willing to share their bandwidth. This could be based on BitTorrent protocol in combination with NAT traversal techniques such as those used by WebRTC (if not WebRTC itself) to get around CG-NAT or firewalling.

[Text - handling of user-edited content]
This would depend on current number of active users. With larger number of users, requested edits would be shown to other (registered) users who could confirm them. After reaching a certain number of confirmations, the data would get accepted. This number would change based on total number of users. Additionally, only users registered 2 weeks prior to change requests would be allowed to confirm changes.
