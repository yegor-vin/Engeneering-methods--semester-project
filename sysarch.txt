[TODO]
Describe handling of filter data
Describe source for map data
Describe handling of offline data updates
Describe handling of user-edited content
List out filter options (not part of the text)
List features available for KaiOS (due to high system limitations)
List user-editable items

[Other features]
Live vehicle position
Search vehicle by license plate/locomotive number/...
Navigation

[Filter options list]
Start + Destination
Time - departure|arrival
Transport companies -- [exclude|include [priority-global if breached]] [preferred(priority-local)]
transit lines -- [exclude|include [priority-global if breached]]
vehicle types (train/bus/ship/plane/...) -- [exclude|include [priority-global if breached]] [preferred(priority-local)]
payment methods -- [require|require if known [priority-global if breached]] [preferred(priority-local)]
number of stops -- [min|max [priority-global if breached]]
minimize stops -- priority-global
pass via (stops/places - CONFLICT WITH ROUTE PATH) -- [place 1 [priority-local if breached] [place 2 [priority-local if breached]]... [priority-global if required breached|priority-global if optional only breached]
route length (time/distance/maximize one) -- [[min] [max]]|[maximize time up to(distance/time)|maximize distance up to(distance/time)] [priority-global|priority-global if min/max breached]
number of transfers -- max [priority-global if breached]
minimize transfers -- priority-global
time between transfers -- [[min] [max] [[min per 100m] [max per 100m]]]
distance between transfers -- [min] [max]
minimize walking distance -- priority-global
route path (approximate - from map - CONFLICT WITH PASS VIA) -- priority-global
ticket availability (auto discard if full) -- [class [priority-local if breached]] [maximize emptiness [priority-local]] [priority-globa]

[KaiOS]
Simple online route search only - these are weak devices that can at best use primitive web apps

[User-editable items]
Routes (times, stops, does not exist, new)
Line route (if differs (manual, GNSS))

[Text - Handling of filter data]
1. Filter pool based on mandatory options (options excluding priority)
2.

[Text - handling of offline data updates]
Offline data will be stored in chunks. Map data by reqions, route data by company. Client devices will contact central server periodically or on-demand for list of current data chunk SHA512 hashes. After comparing hashes of stored data (stored in database, pre-computed), and if differing hashes are found, user will be notified to download updates, or they will be automatically downloaded based on user preferences.
Last update times will also be presented, however hashes will be used for comparison to avoid user errors (e.g. new date is entered as older). After download, hashes will be computed for downloaded files to verify their integrity.
P2P download/upload options may be added in the future to off-load bandwidth from our servers to users who are willing to share their bandwidth. This could be based on BitTorrent protocol in combination with NAT traversal techniques such as those used by WebRTC (if not WebRTC itself) to get around CG-NAT or firewalling.

[Text - handling of user-edited content]
This would depend on current number of active users. With larger number of users, requested edits would be shown to other (registered) users who could confirm them. After reaching a certain number of confirmations, the data would get accepted. This number would change based on total number of users. Additionally, only users registered 2 weeks prior to change requests would be allowed to confirm changes.
